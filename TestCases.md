
# Test Cases - Candidate Matching ATS

**Version:** 1.0
**Date:** {{ CURRENT_DATE }}

## 1. Introduction

### 1.1. Purpose
This document outlines test cases for the Candidate Matching Applicant Tracking System (ATS). The purpose is to verify that the application functions as specified in the Business Requirements Document (BRD) and Software Requirements Specification (SRS).

### 1.2. Scope
Testing will cover core functionalities including user authentication, candidate management, position management, user management, task board, settings, and basic API interactions.

## 2. Test Environment Setup

*   **Application URL:** `http://localhost:9846` (or production URL)
*   **Browser:** Latest stable version of Chrome/Firefox/Edge
*   **Database:** PostgreSQL instance populated with initial data (via `init-db.sql`)
*   **File Storage:** MinIO instance configured
*   **Test Users:**
    *   Admin: `admin@ncc.com` / `nccadmin` (or as changed)
    *   Recruiter: (Create one for testing)
    *   Hiring Manager: (Create one for testing)
*   **Test Data:** Sample resumes (PDF, DOC, DOCX), sample candidate/position data.

## 3. Test Case Structure

Each test case will follow this structure:

*   **Test Case ID:** Unique identifier (e.g., TC_AUTH_001). Found in the first column of each test case table.
*   **Module:** The application module being tested. This is indicated by the section heading (e.g., "4.1. Authentication & Authorization") above each table of test cases.
*   **Test Case Title:** Brief description of the test.
*   **Preconditions:** Conditions that must be met before executing the test.
*   **Test Steps:** Sequenced actions to perform.
*   **Expected Result:** The anticipated outcome of the test steps.
*   **Actual Result:** Column to be filled in during testing with the observed outcome.
*   **Status:** Checkbox column to mark test as Passed (`- [x]`) or Failed (`- [ ]`).
*   **Notes/Bug ID:** Column for any additional comments or defect IDs.

## 4. Test Cases

---

### 4.1. Authentication & Authorization

| ID          | Test Case Title                                  | Preconditions                                  | Test Steps                                                                                                                                                                 | Expected Result                                                                                                          | Actual Result | Status | Notes/Bug ID |
| :---------- | :----------------------------------------------- | :--------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_AUTH_001 | Successful login with valid credentials          | User `admin@ncc.com` exists with password `nccadmin`. | 1. Navigate to Sign In page. <br> 2. Enter email `admin@ncc.com`. <br> 3. Enter password `nccadmin`. <br> 4. Click "Sign In".                                         | User is redirected to the Dashboard. User's name is visible in the header.                                               |               | - [ ]  |              |
| TC_AUTH_002 | Failed login with invalid password               | User `admin@ncc.com` exists.                     | 1. Navigate to Sign In page. <br> 2. Enter email `admin@ncc.com`. <br> 3. Enter an incorrect password. <br> 4. Click "Sign In".                                         | Error message "Invalid email or password" is displayed. User remains on Sign In page.                                    |               | - [ ]  |              |
| TC_AUTH_003 | Failed login with non-existent email             | No user exists with email `nouser@example.com`.  | 1. Navigate to Sign In page. <br> 2. Enter email `nouser@example.com`. <br> 3. Enter any password. <br> 4. Click "Sign In".                                            | Error message "Invalid email or password" is displayed. User remains on Sign In page.                                    |               | - [ ]  |              |
| TC_AUTH_004 | Logout                                           | User is logged in.                             | 1. Click on user avatar in header. <br> 2. Select "Log out".                                                                                                                | User is redirected to the Sign In page.                                                                                  |               | - [ ]  |              |
| TC_AUTH_005 | Access protected page without login              | User is not logged in.                         | 1. Attempt to navigate directly to `/dashboard` or `/candidates`.                                                                                                            | User is redirected to the Sign In page.                                                                                  |               | - [ ]  |              |
| TC_AUTH_006 | Change password (credentials user) - Success     | User (e.g., `admin@ncc.com`) is logged in.      | 1. (If UI exists) Navigate to Change Password. <br> 2. Enter current password. <br> 3. Enter new valid password. <br> 4. Confirm new password. <br> 5. Submit. <br> 6. Log out and log back in with new password. | Password changed successfully. User can log in with new password.                                                            |               | - [ ]  |              |
| TC_AUTH_007 | Change password - Incorrect current password     | User is logged in.                             | 1. (If UI exists) Navigate to Change Password. <br> 2. Enter incorrect current password. <br> 3. Enter new password. <br> 4. Submit.                                       | Error message "Incorrect current password" is displayed.                                                                 |               | - [ ]  |              |
| TC_AUTH_008 | Recruiter cannot access User Management          | Logged in as Recruiter.                        | 1. Attempt to navigate to `/users`.                                                                                                                                          | Redirected or "Forbidden" message. "Manage Users" link not visible in settings sidebar.                                  |               | - [ ]  |              |
| TC_AUTH_009 | Admin can access User Management               | Logged in as Admin.                            | 1. Navigate to `/users` via Settings or direct URL.                                                                                                                          | User Management page is displayed.                                                                                       |               | - [ ]  |              |
| TC_AUTH_010 | (Conceptual) Azure AD SSO Login                | Azure AD is configured correctly on server.    | 1. Navigate to Sign In page. <br> 2. Click "Sign in with Microsoft Azure AD". <br> 3. Complete Azure AD authentication flow.                                              | User is redirected to the Dashboard, authenticated with Azure AD identity.                                               |               | - [ ]  |              |

---

### 4.2. Dashboard

| ID          | Test Case Title                        | Preconditions                     | Test Steps                                         | Expected Result                                                                                                | Actual Result | Status | Notes/Bug ID |
| :---------- | :------------------------------------- | :-------------------------------- | :------------------------------------------------- | :------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_DASH_001 | View dashboard metrics                 | Logged in. Some candidates & positions exist. | 1. Navigate to Dashboard.                            | Key stats (Total Candidates, Open Positions, Hired This Month) are displayed with correct counts.              |               | - [ ]  |              |
| TC_DASH_002 | View "Candidates per Position" chart   | Logged in. Multiple positions with candidates exist. | 1. Navigate to Dashboard.                            | Chart is displayed, showing candidate counts for relevant positions. Tooltips show details.                    |               | - [ ]  |              |
| TC_DASH_003 | View "New Candidates Today" list       | Logged in. Candidates applied today exist. | 1. Navigate to Dashboard.                            | List of new candidates (name, applied position) is displayed.                                                  |               | - [ ]  |              |
| TC_DASH_004 | View "Positions Needing Applicants" list | Logged in. Open positions with no candidates exist. | 1. Navigate to Dashboard.                            | List of open positions (title, department) with no candidates is displayed.                                    |               | - [ ]  |              |
| TC_DASH_005 | Dashboard with no data                 | Logged in. No candidates or positions exist. | 1. Navigate to Dashboard.                            | Stats show 0. Lists/Chart show "No data" messages.                                                             |               | - [ ]  |              |

---

### 4.3. Candidate Management

| ID          | Test Case Title                               | Preconditions                                   | Test Steps                                                                                                                                                                                                                             | Expected Result                                                                                                                            | Actual Result | Status | Notes/Bug ID |
| :---------- | :-------------------------------------------- | :---------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_CAND_001 | Create new candidate manually                 | Logged in as Admin/Recruiter. Positions exist. Available recruitment stages exist. | 1. Navigate to Candidates page. <br> 2. Click "Add Candidate Manually". <br> 3. Fill in required fields (Name, Email, Applied Position, Status). <br> 4. Fill optional fields (Phone, Parsed Data sections). <br> 5. Submit. | Candidate is created and appears in the candidate list. Success toast.                                                                   |               | - [ ]  |              |
| TC_CAND_002 | Create candidate - Missing required fields    | Logged in as Admin/Recruiter.                   | 1. Navigate to Candidates page. <br> 2. Click "Add Candidate Manually". <br> 3. Leave "First Name" or "Email" blank. <br> 4. Attempt to submit.                                                                                      | Validation errors displayed for required fields. Candidate not created.                                                                    |               | - [ ]  |              |
| TC_CAND_003 | View candidate list                           | Logged in. Candidates exist.                    | 1. Navigate to Candidates page.                                                                                                                                                                                                        | Table displays candidates with correct information (Name, Applied Job, Fit Score, Status, Last Update, Resume link).                     |               | - [ ]  |              |
| TC_CAND_004 | Filter candidates by Name                     | Logged in. Candidates exist.                    | 1. Navigate to Candidates page. <br> 2. Enter a known part of a candidate's name in the "Name" filter. <br> 3. Apply filters.                                                                                                  | Candidate list updates to show only matching candidates.                                                                                 |               | - [ ]  |              |
| TC_CAND_005 | Filter candidates by Position                 | Logged in. Candidates assigned to different positions. | 1. Navigate to Candidates page. <br> 2. Select a position from the "Position" filter. <br> 3. Apply filters.                                                                                                               | Candidate list updates to show only candidates applied for the selected position.                                                        |               | - [ ]  |              |
| TC_CAND_006 | Filter candidates by Fit Score                | Logged in. Candidates with varying fit scores.  | 1. Navigate to Candidates page. <br> 2. Adjust the Fit Score range slider (e.g., 70-90%). <br> 3. Apply filters.                                                                                                                   | Candidate list updates to show only candidates within the specified fit score range.                                                       |               | - [ ]  |              |
| TC_CAND_007 | Reset candidate filters                       | Logged in. Filters are applied.                 | 1. Navigate to Candidates page. <br> 2. Click "Reset Filters".                                                                                                                                                                         | All filters are cleared. Candidate list shows all candidates (or default view).                                                            |               | - [ ]  |              |
| TC_CAND_008 | View candidate details page                   | Logged in. Candidate with ID `X` exists.        | 1. Navigate to Candidates page. <br> 2. Click on candidate `X`'s name or "View Details" action.                                                                                                                                    | Candidate Detail page for candidate `X` is displayed, showing all relevant information (Personal, Contact, Parsed Data sections, History). |               | - [ ]  |              |
| TC_CAND_009 | Upload resume for candidate                   | Logged in as Admin/Recruiter. Candidate `X` exists. Valid resume file (PDF/DOCX). | 1. On Candidates page or Detail page for candidate `X`, click "Upload Resume". <br> 2. Select a valid resume file. <br> 3. Submit.                                                                                             | Resume uploaded successfully. Resume link updates. Success toast. n8n webhook (if configured) is triggered.                                |               | - [ ]  |              |
| TC_CAND_010 | Upload resume - Invalid file type             | Logged in as Admin/Recruiter. Candidate `X` exists. Invalid file (e.g., TXT, JPG). | 1. Click "Upload Resume" for candidate `X`. <br> 2. Select an invalid file type. <br> 3. Attempt to submit.                                                                                                            | Error message "Invalid file type" displayed. Resume not uploaded.                                                                          |               | - [ ]  |              |
| TC_CAND_011 | Update candidate status via Transitions Modal | Logged in as Admin/Recruiter. Candidate `X` exists. Available stages exist. | 1. On Candidates page or Detail page for candidate `X`, open "Manage Transitions". <br> 2. Select a new status. <br> 3. Add notes. <br> 4. Click "Add Transition & Update Status".                                        | Candidate status updates in list/detail. New transition record added to history. Success toast.                                            |               | - [ ]  |              |
| TC_CAND_012 | Edit transition record notes                  | Logged in as Admin/Recruiter. Candidate `X` has transition records. | 1. Open "Manage Transitions" for candidate `X`. <br> 2. Click "Edit Notes" for a record. <br> 3. Modify notes. <br> 4. Save.                                                                                                  | Notes for the transition record are updated. Success toast.                                                                                |               | - [ ]  |              |
| TC_CAND_013 | Delete transition record                      | Logged in as Admin/Recruiter. Candidate `X` has deletable transition records. | 1. Open "Manage Transitions" for candidate `X`. <br> 2. Click "Delete" for a record. <br> 3. Confirm deletion.                                                                                                      | Transition record is removed from history. Success toast.                                                                                |               | - [ ]  |              |
| TC_CAND_014 | Edit candidate details (core & parsed data)   | Logged in as Admin/Recruiter. Candidate `X` exists. | 1. Navigate to Candidate Detail page for `X`. <br> 2. Click "Edit Details". <br> 3. Modify fields in Personal Info, Contact, Education, Experience, Skills sections. <br> 4. Save changes.                                              | Candidate details are updated. Success toast. Detail page reflects changes.                                                              |               | - [ ]  |              |
| TC_CAND_015 | Delete candidate                              | Logged in as Admin/Recruiter. Candidate `X` exists. | 1. On Candidates page, find candidate `X`. <br> 2. Click "Delete" action. <br> 3. Confirm deletion.                                                                                                                             | Candidate `X` is removed from the list. Success toast. Associated transition records deleted.                                            |               | - [ ]  |              |
| TC_CAND_016 | Create candidate via n8n workflow (PDF upload) | Logged in. `N8N_GENERIC_PDF_WEBHOOK_URL` is configured. Valid PDF resume. | 1. Navigate to Candidates page. <br> 2. Click "Create via Resume (Automated)". <br> 3. Select a PDF. <br> 4. (Optional) Select target position. <br> 5. Submit.                                                    | PDF sent to n8n. Success toast. After n8n processing, new candidate appears in the list (may require refresh or polling).               |               | - [ ]  |              |
| TC_CAND_017 | Export candidates to CSV/Excel                | Logged in. Candidates exist.                    | 1. Navigate to Candidates page. <br> 2. Click "More Actions" > "Export Candidates (CSV/Excel)".                                                                                                                                | A CSV/Excel file containing filtered candidate data is downloaded.                                                                       |               | - [ ]  |              |
| TC_CAND_018 | Import candidates from CSV/Excel - Success    | Logged in. Valid CSV/Excel file with new candidates. | 1. Navigate to Candidates page. <br> 2. Click "More Actions" > "Import Candidates (Excel)". <br> 3. Upload valid file. <br> 4. Submit.                                                                                        | New candidates are created. Success toast with import summary. List refreshes.                                                           |               | - [ ]  |              |
| TC_CAND_019 | Import candidates - File with errors          | Logged in. CSV/Excel file with some invalid data (e.g., duplicate email, missing required fields). | 1. Navigate to Candidates page. <br> 2. Click "More Actions" > "Import Candidates (Excel)". <br> 3. Upload file with errors. <br> 4. Submit.                                                                             | Valid candidates imported. Toast shows summary with successes and failures. Errors reported (e.g., in console or UI if implemented).   |               | - [ ]  |              |

---

### 4.4. Position Management

| ID          | Test Case Title                             | Preconditions                                | Test Steps                                                                                                                                                                                                                         | Expected Result                                                                                                                            | Actual Result | Status | Notes/Bug ID |
| :---------- | :------------------------------------------ | :------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_POS_001  | Create new position                         | Logged in as Admin/Recruiter.                | 1. Navigate to Positions page. <br> 2. Click "Add New Position". <br> 3. Fill in Title, Department, Level. Set "Is Open". Add Description. <br> 4. Submit.                                                                                | Position created and appears in list. Success toast.                                                                                       |               | - [ ]  |              |
| TC_POS_002  | Create position - Missing required fields   | Logged in as Admin/Recruiter.                | 1. Navigate to Positions page. <br> 2. Click "Add New Position". <br> 3. Leave Title or Department blank. <br> 4. Attempt to submit.                                                                                                  | Validation errors for required fields. Position not created.                                                                               |               | - [ ]  |              |
| TC_POS_003  | View position list                          | Logged in. Positions exist.                  | 1. Navigate to Positions page.                                                                                                                                                                                                     | Table displays positions with Title, Department, Level, Status, Description.                                                               |               | - [ ]  |              |
| TC_POS_004  | Filter positions by Title                   | Logged in. Positions exist.                  | 1. Navigate to Positions page. <br> 2. Enter part of a known title in "Position Title" filter. <br> 3. Apply.                                                                                                                         | List updates to show only matching positions.                                                                                              |               | - [ ]  |              |
| TC_POS_005  | Filter positions by Status (Open/Closed)    | Logged in. Positions with mixed statuses.    | 1. Navigate to Positions page. <br> 2. Select "Open" (or "Closed") from "Status" filter. <br> 3. Apply.                                                                                                                              | List updates to show only Open (or Closed) positions.                                                                                      |               | - [ ]  |              |
| TC_POS_006  | View position details page                  | Logged in. Position `Y` exists.              | 1. Navigate to Positions page. <br> 2. Click on position `Y`'s title.                                                                                                                                                              | Position Detail page for `Y` displays its info and associated candidates.                                                                  |               | - [ ]  |              |
| TC_POS_007  | Edit position details                       | Logged in as Admin/Recruiter. Position `Y` exists. | 1. Navigate to Positions page. <br> 2. Click "Edit" for position `Y`. <br> 3. Modify Title, Department, Status, Level, Description. <br> 4. Save.                                                                                    | Position details updated in list and detail page. Success toast.                                                                           |               | - [ ]  |              |
| TC_POS_008  | Delete position (no associated candidates)  | Logged in as Admin/Recruiter. Position `Y` has no candidates. | 1. Navigate to Positions page. <br> 2. Click "Delete" for position `Y`. <br> 3. Confirm.                                                                                                                                     | Position `Y` removed from list. Success toast.                                                                                             |               | - [ ]  |              |
| TC_POS_009  | Attempt to delete position (has candidates) | Logged in as Admin/Recruiter. Position `Z` has candidates. | 1. Navigate to Positions page. <br> 2. Click "Delete" for position `Z`. <br> 3. Confirm.                                                                                                                                     | Error message "Cannot delete position with associated candidates." Position `Z` not deleted.                                               |               | - [ ]  |              |
| TC_POS_010  | Export positions to CSV/Excel               | Logged in. Positions exist.                  | 1. Navigate to Positions page. <br> 2. Click "More Actions" > "Export Positions (CSV)".                                                                                                                                              | A CSV/Excel file with position data is downloaded.                                                                                         |               | - [ ]  |              |
| TC_POS_011  | Import positions from CSV/Excel - Success   | Logged in. Valid CSV/Excel file.             | 1. Navigate to Positions page. <br> 2. Click "More Actions" > "Import Positions (Excel/CSV)". <br> 3. Upload valid file. <br> 4. Submit.                                                                                             | New positions created. Success toast with summary. List refreshes.                                                                         |               | - [ ]  |              |

---

### 4.5. User Management (Admin Role)

| ID          | Test Case Title                                  | Preconditions                                   | Test Steps                                                                                                                                                                                                                         | Expected Result                                                                                                                               | Actual Result | Status | Notes/Bug ID |
| :---------- | :----------------------------------------------- | :---------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_USER_001 | Create new user (Recruiter)                      | Logged in as Admin.                             | 1. Navigate to Users page. <br> 2. Click "Add New User". <br> 3. Fill Name, Email, Password, select Role "Recruiter". <br> 4. (Optional) Assign module permissions & groups. <br> 5. Submit.                                     | New Recruiter user created and appears in list. Success toast.                                                                                |               | - [ ]  |              |
| TC_USER_002 | Create user - Duplicate email                    | Logged in as Admin. Email `test@example.com` exists. | 1. Navigate to Users page. <br> 2. Click "Add New User". <br> 3. Enter Name, email `test@example.com`, Password, Role. <br> 4. Submit.                                                                                             | Error "User with this email already exists." User not created.                                                                                |               | - [ ]  |              |
| TC_USER_003 | View user list                                   | Logged in as Admin. Users exist.                | 1. Navigate to Users page.                                                                                                                                                                                                         | Table displays users (Name, Email, Role, Groups).                                                                                             |               | - [ ]  |              |
| TC_USER_004 | Edit user details (Name, Role, Permissions, Groups) | Logged in as Admin. User `U` exists.            | 1. Navigate to Users page. <br> 2. Click "Edit" for user `U`. <br> 3. Modify Name, Role. Change Module Permissions. Assign/Unassign Groups. <br> 4. Save.                                                                             | User `U` details updated. Success toast. List reflects changes.                                                                               |               | - [ ]  |              |
| TC_USER_005 | Edit user - Reset password                       | Logged in as Admin. User `U` exists.            | 1. Navigate to Users page. <br> 2. Click "Edit" for user `U`. <br> 3. Enter a new password in "New Password". <br> 4. Save. <br> 5. (Manual) Log out, log in as user `U` with new password.                                        | Password for user `U` is reset. User `U` can log in with new password. Success toast.                                                         |               | - [ ]  |              |
| TC_USER_006 | Delete user (not self)                           | Logged in as Admin. User `U` (not admin) exists. | 1. Navigate to Users page. <br> 2. Click "Delete" for user `U`. <br> 3. Confirm.                                                                                                                                                  | User `U` removed from list. Success toast.                                                                                                    |               | - [ ]  |              |
| TC_USER_007 | Attempt to delete own Admin account              | Logged in as Admin.                             | 1. Navigate to Users page. <br> 2. Find own admin account. <br> 3. "Delete" action should be disabled or attempt to delete should show error.                                                                                    | Delete action disabled or error message "Admins cannot delete their own accounts." Account not deleted.                                       |               | - [ ]  |              |

---

### 4.6. My Task Board

| ID          | Test Case Title                           | Preconditions                                      | Test Steps                                                                                                                               | Expected Result                                                                                                                      | Actual Result | Status | Notes/Bug ID |
| :---------- | :---------------------------------------- | :------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_TASK_001 | View My Task Board (Recruiter)            | Logged in as Recruiter. Candidates assigned to this recruiter. | 1. Navigate to "My Task Board".                                                                                                            | Kanban/List view displays only candidates assigned to the logged-in recruiter.                                                       |               | - [ ]  |              |
| TC_TASK_002 | View My Task Board (Admin - Own Tasks)    | Logged in as Admin. Candidates assigned to this admin. | 1. Navigate to "My Task Board". <br> 2. Ensure "My Assigned Candidates (Admin)" filter is selected (default or select it).                  | Kanban/List view displays only candidates assigned to the logged-in admin.                                                           |               | - [ ]  |              |
| TC_TASK_003 | View Task Board (Admin - All Candidates)  | Logged in as Admin. Multiple candidates exist.     | 1. Navigate to "My Task Board". <br> 2. Select "All Candidates (Admin Overview)" from recruiter filter.                                     | Kanban/List view displays all candidates in the system.                                                                              |               | - [ ]  |              |
| TC_TASK_004 | View Task Board (Admin - Specific Recruiter)| Logged in as Admin. Recruiter `R` has assigned candidates. | 1. Navigate to "My Task Board". <br> 2. Select Recruiter `R` from filter.                                                                  | Kanban/List view displays candidates assigned to Recruiter `R`.                                                                      |               | - [ ]  |              |
| TC_TASK_005 | Switch between List and Kanban view       | Logged in. Candidates visible on task board.       | 1. On Task Board, click List view icon. <br> 2. Click Kanban view icon.                                                                      | View switches correctly between table (list) and column-based (Kanban) representation of candidates, maintaining current filter. |               | - [ ]  |              |
| TC_TASK_006 | Filter Kanban/List by Status              | Logged in. Candidates with various statuses.       | 1. On Task Board, select a specific status from the "Filter by Status" dropdown.                                                             | Only candidates with the selected status are displayed in the current view (List or Kanban).                                       |               | - [ ]  |              |

---

### 4.7. Settings

#### 4.7.1. Preferences
| ID              | Test Case Title              | Preconditions             | Test Steps                                                                                                                                                           | Expected Result                                                                                                           | Actual Result | Status | Notes/Bug ID |
| :-------------- | :--------------------------- | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------ | :------------ | :----- | :----------- |
| TC_SET_PREF_001 | Change App Name              | Logged in.                | 1. Navigate to Settings > Preferences. <br> 2. Change "Application Name". <br> 3. Save.                                                                                | App name updates in header/sidebar. Setting persists on refresh. Success toast.                                           |               | - [ ]  |              |
| TC_SET_PREF_002 | Change App Logo              | Logged in. Valid image file. | 1. Navigate to Settings > Preferences. <br> 2. Upload new logo image. <br> 3. Save.                                                                                   | Logo preview updates. App logo in header/sidebar updates. Setting persists. Success toast.                                  |               | - [ ]  |              |
| TC_SET_PREF_003 | Change Theme (Conceptual)    | Logged in.                | 1. Navigate to Settings > Preferences. <br> 2. Select Light/Dark/System theme. <br> 3. Save. (Note: Actual theme switch is via header toggle for prototype). | Preference selection is saved locally (visual confirmation on page). Success toast. Actual theme change by header toggle. |               | - [ ]  |              |

#### 4.7.2. Recruitment Stages (Admin/Permitted Role)
| ID              | Test Case Title                       | Preconditions             | Test Steps                                                                                                                                   | Expected Result                                                                                                                  | Actual Result | Status | Notes/Bug ID |
| :-------------- | :------------------------------------ | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_SET_STG_001  | Add new custom recruitment stage      | Logged in as Admin.       | 1. Navigate to Settings > Recruitment Stages. <br> 2. Click "Add New Stage". <br> 3. Enter Name, Description, Sort Order. <br> 4. Create.    | New stage added to list. Success toast. Stage available in candidate status dropdowns.                                           |               | - [ ]  |              |
| TC_SET_STG_002  | Edit custom recruitment stage         | Logged in as Admin. Custom stage exists. | 1. Find custom stage. Click "Edit". <br> 2. Modify Description, Sort Order. <br> 3. Save.                                               | Stage details updated. Success toast.                                                                                            |               | - [ ]  |              |
| TC_SET_STG_003  | Attempt to edit system stage name     | Logged in as Admin.       | 1. Find system stage (e.g., "Applied"). Click "Edit". <br> 2. Name field should be disabled or attempt to save change to name should fail. | Name field disabled or error message "System stage names cannot be changed."                                                       |               | - [ ]  |              |
| TC_SET_STG_004  | Delete custom stage (not in use)      | Logged in as Admin. Custom stage exists, not used by candidates. | 1. Find custom stage. Click "Delete". <br> 2. Confirm.                                                                                      | Stage removed from list. Success toast.                                                                                          |               | - [ ]  |              |
| TC_SET_STG_005  | Attempt to delete system stage        | Logged in as Admin.       | 1. Find system stage. Click "Delete".                                                                                                        | "Delete" button disabled or error "System stages cannot be deleted."                                                               |               | - [ ]  |              |
| TC_SET_STG_006  | Attempt to delete stage (in use)      | Logged in as Admin. Custom stage used by a candidate. | 1. Find custom stage. Click "Delete". <br> 2. Confirm.                                                                                      | Error "Cannot delete stage: It is currently in use..." Stage not deleted.                                                        |               | - [ ]  |              |

#### 4.7.3. Data Models (Admin/Permitted Role)
| ID              | Test Case Title                        | Preconditions             | Test Steps                                                                                                                                  | Expected Result                                                                                                                                 | Actual Result | Status | Notes/Bug ID |
| :-------------- | :------------------------------------- | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_SET_DM_001   | View Candidate model attributes        | Logged in as Admin.       | 1. Navigate to Settings > Data Models. <br> 2. Expand "Candidate Model Attributes".                                                           | List of candidate attributes (key, label, type, description) is displayed.                                                                      |               | - [ ]  |              |
| TC_SET_DM_002   | Change UI preference for an attribute  | Logged in as Admin.       | 1. On Data Models page, find an attribute. <br> 2. Change "UI Display" (e.g., to Emphasized). <br> 3. Add a custom note. <br> 4. Save All. | Preferences saved locally. Success toast. (Visual effect on other pages is future enhancement, not testable for this prototype).            |               | - [ ]  |              |

#### 4.7.4. Custom Fields (Admin/Permitted Role)
| ID              | Test Case Title                              | Preconditions             | Test Steps                                                                                                                                                                                                | Expected Result                                                                                                                                    | Actual Result | Status | Notes/Bug ID |
| :-------------- | :------------------------------------------- | :------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_SET_CF_001   | Add new custom field (text) for Candidate    | Logged in as Admin.       | 1. Navigate to Settings > Custom Fields. <br> 2. Click "Add New". <br> 3. Model: Candidate, Key: `custom_text`, Label: `Custom Text Field`, Type: `text`. <br> 4. Create.                               | New field definition added to list. Success toast.                                                                                                   |               | - [ ]  |              |
| TC_SET_CF_002   | Add custom field (select) with options       | Logged in as Admin.       | 1. Settings > Custom Fields. <br> 2. Add New. Model: Position, Key: `priority`, Label: `Priority`, Type: `select_single`. <br> 3. Add options (e.g., val:high,lbl:High; val:med,lbl:Medium). <br> 4. Create. | New select field definition added. Success toast.                                                                                                    |               | - [ ]  |              |
| TC_SET_CF_003   | Edit custom field definition                 | Logged in as Admin. Custom field exists. | 1. Find field. Click "Edit". <br> 2. Change Label, Type (if allowed), Options, Required status, Sort Order. <br> 3. Save.                                                                          | Field definition updated. Success toast. (Actual use in forms is future enhancement).                                                                |               | - [ ]  |              |
| TC_SET_CF_004   | Delete custom field definition               | Logged in as Admin. Custom field exists. | 1. Find field. Click "Delete". <br> 2. Confirm.                                                                                                                                           | Field definition removed. Success toast.                                                                                                             |               | - [ ]  |              |
| TC_SET_CF_005   | Attempt to add field with duplicate key/model | Logged in as Admin. Field with key `test_key` for Candidate exists. | 1. Add New. Model: Candidate, Key: `test_key`, Label: `Another Test`, Type: `text`. <br> 2. Create.                                                                   | Error "A custom field with key "test_key" already exists for model "Candidate"." Field not created.                                                |               | - [ ]  |              |

#### 4.7.5. Webhook Payload Mapping (Admin/Permitted Role)
| ID              | Test Case Title                              | Preconditions             | Test Steps                                                                                                                                                                                               | Expected Result                                                                                                                                                           | Actual Result | Status | Notes/Bug ID |
| :-------------- | :------------------------------------------- | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------------ | :----- | :----------- |
| TC_SET_WM_001   | View default webhook mappings                | Logged in as Admin.       | 1. Navigate to Settings > Webhook Payload Mapping.                                                                                                                                                         | List of target CandiTrack attributes is displayed, with empty or default source paths/notes.                                                                              |               | - [ ]  |              |
| TC_SET_WM_002   | Add/Edit source path for a mapping         | Logged in as Admin.       | 1. On Webhook Mapping page, find "Personal - First Name". <br> 2. Enter `payload.profile.firstName` in "Source JSON Path". <br> 3. Add a note. <br> 4. Save Configuration.                                 | Mapping saved to server. Success toast. Page reloads/reflects saved mapping. (Effect on n8n endpoint requires actual webhook call to test). |               | - [ ]  |              |
| TC_SET_WM_003   | Clear source path for a mapping (unmap)    | Logged in as Admin. A mapping exists. | 1. Find a mapped attribute. <br> 2. Clear its "Source JSON Path". <br> 3. Save Configuration.                                                                                                         | Source path is cleared and saved as null/empty on server. Success toast.                                                                                                    |               | - [ ]  |              |

#### 4.7.6. User Groups (Admin/Permitted Role)
| ID              | Test Case Title                       | Preconditions             | Test Steps                                                                                                                                   | Expected Result                                                                                                                  | Actual Result | Status | Notes/Bug ID |
| :-------------- | :------------------------------------ | :------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_SET_UG_001   | Add new user group                    | Logged in as Admin.       | 1. Navigate to Settings > User Groups. <br> 2. Click "Add New Group". <br> 3. Enter Name, Description. <br> 4. Create.                       | New group added to list. Success toast.                                                                                          |               | - [ ]  |              |
| TC_SET_UG_002   | Edit user group                       | Logged in as Admin. Group `G` exists. | 1. Find group `G`. Click "Edit". <br> 2. Modify Name, Description. <br> 3. Save.                                                            | Group details updated. Success toast.                                                                                            |               | - [ ]  |              |
| TC_SET_UG_003   | Delete user group                     | Logged in as Admin. Group `G` exists. | 1. Find group `G`. Click "Delete". <br> 2. Confirm.                                                                                      | Group removed from list. Success toast. User associations with this group are removed.                                           |               | - [ ]  |              |
| TC_SET_UG_004   | Attempt to add group with duplicate name| Logged in as Admin. Group "Alpha Team" exists. | 1. Click "Add New Group". <br> 2. Enter Name "Alpha Team". <br> 3. Create.                                                                 | Error "A user group with the name "Alpha Team" already exists." Group not created.                                                  |               | - [ ]  |              |

---

### 4.8. API Endpoints (Key Public/External)

| ID          | Test Case Title                                      | Preconditions                               | Test Steps                                                                                                                                                                                                                                                          | Expected Result                                                                                                                                                                                                                                                            | Actual Result | Status | Notes/Bug ID |
| :---------- | :--------------------------------------------------- | :------------------------------------------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_API_001  | `/api/resumes/upload` - Success                      | Candidate ID `X` exists. Valid resume file.   | 1. Send POST to `/api/resumes/upload?candidateId=X` with `resume` file in FormData.                                                                                                                                                                  | HTTP 200. JSON response: `{ message, filePath, candidate: Candidate, n8nResponse? }`. Candidate `resumePath` updated in DB. (Optional) n8n webhook triggered.                                                                                                                 |               | - [ ]  |              |
| TC_API_002  | `/api/n8n/create-candidate-with-matches` - Success | Valid JSON payload (see SRS FR-API-004, `N8NCandidateWebhookEntry`). Email doesn't exist. Webhook mappings configured (or raw payload matches schema). | 1. Send POST to `/api/n8n/create-candidate-with-matches` with valid JSON body.                                                                                                                                                                     | HTTP 201. JSON response: `{ status: 'success', candidate: Candidate, ... }`. New candidate created in DB. Transition record created. (If job_applied or targetPositionId valid, candidate associated). |               | - [ ]  |              |
| TC_API_003  | `/api/n8n/create-candidate-with-matches` - Duplicate Email | Valid JSON payload. Email already exists for a candidate. | 1. Send POST to `/api/n8n/create-candidate-with-matches` with JSON containing an existing candidate email.                                                                                                                                   | HTTP 409. JSON response: `{ status: 'skipped', email, message, candidateId }`. No new candidate created.                                                                                                                                                                 |               | - [ ]  |              |
| TC_API_004  | `/api/n8n/create-candidate-with-matches` - Invalid Payload | Malformed or incomplete JSON payload.         | 1. Send POST to `/api/n8n/create-candidate-with-matches` with invalid JSON.                                                                                                                                                                       | HTTP 400. JSON response with error details (e.g., Zod validation errors). No candidate created.                                                                                                                                                                           |               | - [ ]  |              |
| TC_API_005  | `/api/candidates` - GET (Public, filtered)           | Positions & Candidates exist.               | 1. Send GET to `/api/candidates?positionId=Y&minFitScore=50`.                                                                                                                                                                                         | HTTP 200. JSON array of candidates matching filters.                                                                                                                                                                                                                       |               | - [ ]  |              |
| TC_API_006  | `/api/positions` - GET (Public)                      | Positions exist.                            | 1. Send GET to `/api/positions`.                                                                                                                                                                                                                        | HTTP 200. JSON array of all positions.                                                                                                                                                                                                                                     |               | - [ ]  |              |

---

### 4.9. Logging

| ID          | Test Case Title                           | Preconditions                                   | Test Steps                                                                                                                                            | Expected Result                                                                                                                               | Actual Result | Status | Notes/Bug ID |
| :---------- | :---------------------------------------- | :---------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_LOG_001  | View application logs (Admin)             | Logged in as Admin. Log entries exist.          | 1. Navigate to Settings > Logs.                                                                                                                         | Logs page displays entries (Timestamp, Level, Message, Source). Pagination works.                                                             |               | - [ ]  |              |
| TC_LOG_002  | Filter logs by Level (Admin)              | Logged in as Admin. Logs of various levels exist. | 1. On Logs page, select "ERROR" from level filter.                                                                                                      | Only ERROR level logs are displayed.                                                                                                          |               | - [ ]  |              |
| TC_LOG_003  | Key actions create AUDIT logs             | Logged in.                                      | 1. Perform key actions: Login, Logout, Create Candidate, Update Position, Delete User (by Admin). <br> 2. Check Logs page (as Admin).                   | AUDIT level log entries are created for these actions, showing acting user (if applicable) and relevant details.                                |               | - [ ]  |              |
| TC_LOG_004  | Failed login attempts create WARN logs    | -                                               | 1. Attempt login with invalid credentials. <br> 2. Check Logs page (as Admin).                                                                        | WARN level log entry created for "Failed login attempt", showing email and IP (if captured).                                                  |               | - [ ]  |              |

---

### 4.10. Non-Functional Tests (Basic Checks)

| ID          | Test Case Title                        | Preconditions                      | Test Steps                                                                                                 | Expected Result                                                                                                                    | Actual Result | Status | Notes/Bug ID |
| :---------- | :------------------------------------- | :--------------------------------- | :--------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------- | :------------ | :----- | :----------- |
| TC_NF_001   | Responsiveness - Main pages            | -                                  | 1. Open Dashboard, Candidates, Positions pages on Desktop, Tablet, Mobile screen sizes (or use browser dev tools). | Layout adjusts appropriately. No major element overlaps or horizontal scrollbars on content. Navigation remains usable.              |               | - [ ]  |              |
| TC_NF_002   | Consistent UI Theme                    | -                                  | 1. Navigate through different pages. <br> 2. Observe color scheme, button styles, fonts.                    | Consistent application of ShadCN theme and Tailwind styling. Colors match `globals.css`.                                         |               | - [ ]  |              |
| TC_NF_003   | Intuitive Navigation                   | -                                  | 1. Use sidebar to navigate between modules. <br> 2. Use breadcrumbs/back buttons if any.                  | Easy to find key sections. Navigation flow is logical.                                                                             |               | - [ ]  |              |
| TC_NF_004   | Clear Error/Success Messages (Toasts)  | -                                  | 1. Perform actions that result in success (e.g., create item) or error (e.g., invalid form input).         | Informative toast messages displayed. Error toasts use destructive variant.                                                        |               | - [ ]  |              |
| TC_NF_005   | Page Load Time (Subjective - Common pages) | App deployed to a representative env. | 1. Navigate to Dashboard, Candidates list, Position list.                                                  | Pages load within an acceptable timeframe (e.g., <3-5 seconds for this prototype). No excessive loading spinners for simple views. |               | - [ ]  |              |

---

This list is not exhaustive but covers the primary functionalities. Additional test cases for edge cases, specific permission scenarios, and deeper API testing (e.g., invalid inputs to all endpoints) should be developed for a production system.
